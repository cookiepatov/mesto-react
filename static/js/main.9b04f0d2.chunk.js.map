{"version":3,"sources":["utils/api.js","utils/constants.js","contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/ImagePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","document","querySelector","options","this","_baseUrl","baseUrl","_token","headers","authorization","_contentType","res","ok","json","Promise","reject","status","fetch","then","_resultHandler","name","about","method","body","JSON","stringify","avatar","link","id","setLiked","likeCard","dislikeCard","CurrentUserContext","createContext","Header","className","src","logo","alt","Card","props","card","onCardClick","onDeleteClick","onCardLike","useState","likeIsLoading","setLikeIsLoading","currentUserId","useContext","_id","likes","owner","currentOwnerId","useEffect","isOwn","isLiked","some","like","deleteBtnClassName","likeBtnLoadingClassName","likeBtnClassName","style","backgroundImage","onClick","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","onCardDelete","map","item","Footer","year","Date","getFullYear","PopupWithForm","title","children","isOpen","onClose","onSubmit","popupClassname","EditProfilePopup","onUpdateUser","isLoading","currentUser","buttonText","setButtonText","setName","nameIsValid","setNameIsValid","nameClassName","setNameClassName","nameErrorMsg","setNameErrorMsg","nameErrorMsgClassName","setNameErrorMsgClassName","description","setDescription","descriptionIsValid","setDescriptionIsValid","descriptionClassName","setDescriptionClassName","descriptionErrorMsg","setDescriptionErrorMsg","descriptionErrorMsgClassName","setDescriptionErrorMsgClassName","formValidity","setFormValidity","interval","useRef","dots","i","current","setInterval","clearInterval","e","preventDefault","required","minLength","maxLength","placeholder","value","onChange","isValid","errorText","target","validity","validationMessage","valid","disabled","ImagePopup","selectedCard","popupClass","EditAvatarPopup","onUpdateAvatar","linkRef","linkIsValid","setLinkIsValid","linkClassName","setLinkClassName","linkErrorMsg","setLinkErrorMsg","linkErrorMsgClassName","setLinkErrorMsgClassName","defaultValue","AddPlacePopup","setLink","DeleteCardPopup","onDeleteCard","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardPopupOpen","setDeleteCardPopupOpen","isImagePopupOpen","setImagePopupOpen","setSelectedCard","setCurrentUser","setCards","cardToDelete","setCardToDelete","popupDataIsLoading","setPopupDataIsLoading","closeAllPopups","removeEventListener","closeOnEsc","closeOnOverlay","setEventListeners","addEventListener","key","classList","contains","all","getUserInfo","getInitialCards","user","catch","console","log","Provider","changeLikeCardStatus","newCard","currentCard","setUserInfo","finally","addNewCard","setUserAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9b04f0d2.chunk.js","sourcesContent":["import {apiData} from './constants';\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._token = options.headers.authorization;\r\n    this._contentType = options.headers['Content-Type'];\r\n  }\r\n\r\n  _resultHandler(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n\r\n  getInitialCards() {\r\n    return fetch(this._baseUrl + '/cards', {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(res => this._resultHandler(res));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._baseUrl + '/users/me', {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => this._resultHandler(res));\r\n\r\n  }\r\n\r\n  setUserInfo(name, about) {\r\n    return fetch(this._baseUrl + '/users/me', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        about\r\n      })\r\n    }).then(res => this._resultHandler(res));\r\n  }\r\n\r\n  setUserAvatar(avatar) {\r\n    return fetch(this._baseUrl + '/users/me/avatar', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({\r\n        avatar\r\n      })\r\n    }).then(res => this._resultHandler(res));\r\n\r\n  }\r\n\r\n  addNewCard(name, link) {\r\n    return fetch(this._baseUrl + '/cards', {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        link\r\n      })\r\n    }).then(res => this._resultHandler(res));\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(this._baseUrl + '/cards/' + id, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => this._resultHandler(res));\r\n  }\r\n\r\n  changeLikeCardStatus(id, setLiked) {\r\n    if(setLiked) {\r\n      return this.likeCard(id);\r\n    }\r\n    return this.dislikeCard(id);\r\n  }\r\n\r\n  likeCard(id) {\r\n    return fetch(this._baseUrl + '/cards/likes/' + id, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => this._resultHandler(res));\r\n  }\r\n\r\n  dislikeCard(id) {\r\n    return fetch(this._baseUrl + '/cards/likes/' + id, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => this._resultHandler(res));\r\n  }\r\n}\r\n\r\nexport const api = new Api(apiData);\r\n","const validationSettings = {\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__error_visible',\r\n};\r\n\r\nconst formProfile = document.querySelector('.popup__form_type_edit-profile-info');\r\nconst formNewCard = document.querySelector('.popup__form_type_add-place');\r\nconst formAvatar = document.querySelector('.popup__form_type_change-avatar');\r\n\r\nconst elementsSelector = '.elements'\r\nconst cardTemplateSelector = '#card-template';\r\nconst popupProfileFormSelector = '.popup_type_profile'\r\nconst popupCardFormSelector = '.popup_type_card';\r\nconst popupFullViewSelector = '.popup_type_full-view';\r\nconst popupDeleteCardSelector = '.popup_type_delete-confirm';\r\nconst popupChangeAvatar = '.popup_type_avatar';\r\n\r\nconst openFormBtn = document.querySelector('.profile__edit-button');\r\nconst addCardBtn = document.querySelector('.profile__add-button');\r\nconst changeAvatarBtn = document.querySelector('.profile__avatar-button');\r\n\r\nconst wrongImagePlaceHolderSrc = 'https://images.unsplash.com/photo-1506702315536-dd8b83e2dcf9?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80'\r\n\r\nconst userSelectors = {\r\n  userNameSelector: '.profile__name',\r\n  userInfoSelector: '.profile__description',\r\n  userAvatarSelector: '.profile__avatar-image'\r\n}\r\nconst formConnectorData = {\r\n  formSelectors: ['.popup__input_type_name', '.popup__input_type_data'],\r\n  newDataKeys: ['userName', 'userInfo']\r\n}\r\n\r\nconst avatarConnectorData = {\r\n  formSelectors: ['.popup__input_type_data'],\r\n  newDataKeys: ['link']\r\n}\r\n\r\nconst apiData = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-22',\r\n  headers: {\r\n    authorization: '175f949a-57a4-4e41-845e-76eb0a4e61c1',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\nexport {\r\n  validationSettings,\r\n  formProfile,\r\n  formNewCard,\r\n  formAvatar,\r\n  elementsSelector,\r\n  cardTemplateSelector,\r\n  popupProfileFormSelector,\r\n  popupCardFormSelector,\r\n  popupFullViewSelector,\r\n  popupDeleteCardSelector,\r\n  popupChangeAvatar,\r\n  openFormBtn,\r\n  addCardBtn,\r\n  changeAvatarBtn,\r\n  userSelectors,\r\n  formConnectorData,\r\n  avatarConnectorData,\r\n  apiData,\r\n  wrongImagePlaceHolderSrc\r\n};\r\n","import {createContext} from 'react'\r\n\r\nexport const CurrentUserContext = createContext({});\r\n\r\n","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react';\r\n\r\nimport logo from '../images/logo.svg'\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} className=\"logo\" alt=\"Mesto Russia\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import {React, useContext, useState, useEffect} from 'react';\r\n\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const {\r\n    card,\r\n    onCardClick,\r\n    onDeleteClick,\r\n    onCardLike} = props;\r\n\r\n  const [likeIsLoading, setLikeIsLoading] = useState(false);\r\n  const {_id: currentUserId} = useContext(CurrentUserContext);\r\n  const {likes, owner, name, link} = card;\r\n  const currentOwnerId = owner._id;\r\n\r\n  useEffect(() => {\r\n    setLikeIsLoading(false);\r\n  },[likes])\r\n\r\n  const isOwn = currentUserId === currentOwnerId;\r\n  const isLiked = likes.some(like => like._id === currentUserId);\r\n  const deleteBtnClassName = isOwn ? 'element__delete-button' : 'element__delete-button element__delete-button_hidden';\r\n  const likeBtnLikedClassName = isLiked ? 'element__like-button element__like-button_active' : '';\r\n  const likeBtnLoadingClassName = likeIsLoading ? 'element__like-button_loading' : ''\r\n  const likeBtnClassName = `element__like-button ${likeBtnLikedClassName} ${likeBtnLoadingClassName}`\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n  function handleDelete() {\r\n    onDeleteClick(card);\r\n  }\r\n  function handleLikeClick () {\r\n    onCardLike(card);\r\n    setLikeIsLoading(true);\r\n  }\r\n\r\n  return (\r\n    <figure className=\"element\">\r\n      <button className=\"element__picture-button\" style={{backgroundImage: `url(${link})`}} onClick={handleClick}/>\r\n      <button type=\"button\" className={deleteBtnClassName}  onClick={handleDelete}></button>\r\n      <figcaption className=\"element__caption\">\r\n        <h2 className=\"element__text\">{name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button type=\"button\" className={likeBtnClassName} onClick={handleLikeClick}></button>\r\n          <p className=\"element__like-counter\">{likes.length}</p>\r\n        </div>\r\n      </figcaption>\r\n    </figure>)\r\n}\r\n\r\nexport default Card;\r\n","import {React, useContext} from 'react';\r\n\r\nimport Card from './Card';\r\n\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const {onEditProfile,\r\n    onAddPlace,\r\n    onEditAvatar,\r\n    onCardClick,\r\n    cards,\r\n    onCardLike,\r\n    onCardDelete} = props;\r\n  const {name, about, avatar} = useContext(CurrentUserContext)\r\n\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button className=\"profile__avatar-button\" onClick={onEditAvatar} style={{ backgroundImage: `url(${avatar})` }} />\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{name}</h1>\r\n          <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\r\n          <p className=\"profile__description\">{about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {cards.map(item => (\r\n        <Card\r\n          card={item}\r\n          key={item._id}\r\n          onCardClick={onCardClick}\r\n          onDeleteClick={onCardDelete}\r\n          onCardLike={onCardLike}/>))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import {React} from 'react';\r\n\r\nfunction Footer() {\r\n  const year = new Date().getFullYear();\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"copyright\">\r\n        &copy; {year} Mesto Russia\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  const {name, title, children, isOpen, onClose, onSubmit} = props;\r\n  const popupClassname = isOpen ? `popup popup_type_${name} popup_opened` : `popup popup_type_${name}`\r\n\r\n  return (\r\n    <section className={popupClassname}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\r\n        <h2 className=\"popup__title\">\r\n          {title}\r\n        </h2>\r\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\r\n          {children}\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import {React, useState, useEffect, useContext, useRef} from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const {isOpen, onClose, onUpdateUser, isLoading} = props\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const [buttonText, setButtonText] = useState('Сохранить');\r\n\r\n  const [name, setName] = useState('');\r\n  const [nameIsValid, setNameIsValid] = useState(true);\r\n  const [nameClassName, setNameClassName] = useState('popup__input')\r\n  const [nameErrorMsg, setNameErrorMsg] = useState('');\r\n  const [nameErrorMsgClassName, setNameErrorMsgClassName] = useState('popup__error')\r\n\r\n  const [description, setDescription] = useState('');\r\n  const [descriptionIsValid, setDescriptionIsValid] = useState(true);\r\n  const [descriptionClassName, setDescriptionClassName] = useState('popup__input')\r\n  const [descriptionErrorMsg, setDescriptionErrorMsg] = useState('');\r\n  const [descriptionErrorMsgClassName, setDescriptionErrorMsgClassName] = useState('popup__error')\r\n\r\n  const [formValidity, setFormValidity] = useState(true);\r\n\r\n  const interval = useRef();\r\n\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      const dots = ['.','..','...'];\r\n      let i = 0\r\n      interval.current = setInterval(()=>{\r\n        setButtonText(`Сохранение${dots[i]}`);\r\n        i = (i === 2) ? 0 : i + 1;\r\n      },500)\r\n    } else {\r\n      clearInterval(interval.current)\r\n      setButtonText(`Сохранить`);\r\n    }\r\n  },[isLoading])\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name||'');\r\n    setDescription(currentUser.about||'');\r\n    clearValidation();\r\n  }, [currentUser, isOpen]);\r\n\r\n  useEffect(() => {\r\n    setFormValidity(nameIsValid && descriptionIsValid);\r\n  }, [nameIsValid, descriptionIsValid])\r\n\r\n  function clearValidation() {\r\n    setNameIsValid(true);\r\n    setNameClassName('popup__input');\r\n    setNameErrorMsg('');\r\n    setNameErrorMsgClassName('popup__error');\r\n\r\n    setDescriptionIsValid(true);\r\n    setDescriptionClassName('popup__input')\r\n    setDescriptionErrorMsg('');\r\n    setDescriptionErrorMsgClassName('popup__error');\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateUser({\r\n      name,\r\n      about: description\r\n    })\r\n  }\r\n\r\n  function handleNameChange({target}) {\r\n    const {value, validity, validationMessage} = target;\r\n    setName(value);\r\n    handleNameValidity(validity.valid, validationMessage)\r\n  }\r\n\r\n  function handleDescriptionChange({target}) {\r\n    const {value, validity, validationMessage} = target;\r\n    setDescription(value);\r\n    handleDescriptionValidity(validity.valid, validationMessage)\r\n  }\r\n\r\n  function handleNameValidity(isValid, errorText) {\r\n    setNameIsValid(isValid);\r\n    if (isValid) {\r\n      setNameClassName('popup__input');\r\n      setNameErrorMsg('');\r\n      setNameErrorMsgClassName('popup__error');\r\n    } else {\r\n      setNameClassName('popup__input popup__input_type_error');\r\n      setNameErrorMsg(errorText);\r\n      setNameErrorMsgClassName('popup__error popup__error_visible');\r\n    }\r\n  }\r\n\r\n  function handleDescriptionValidity(isValid, errorText) {\r\n    setDescriptionIsValid(isValid);\r\n    if (isValid) {\r\n      setDescriptionClassName('popup__input');\r\n      setDescriptionErrorMsg('');\r\n      setDescriptionErrorMsgClassName('popup__error')\r\n    } else {\r\n      setDescriptionClassName('popup__input popup__input_type_error');\r\n      setDescriptionErrorMsg(errorText);\r\n      setDescriptionErrorMsgClassName('popup__error popup__error_visible')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'profile'}\r\n      title={'Редактировать профиль'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}>\r\n      <input\r\n        id=\"profile-name-input\"\r\n        name=\"name\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        className={nameClassName}\r\n        placeholder=\"Ваше имя\"\r\n        value={name}\r\n        onChange={handleNameChange} />\r\n      <span className={nameErrorMsgClassName}>{nameErrorMsg}</span>\r\n      <input\r\n        id=\"profile-description-input\"\r\n        name=\"description\"\r\n        required minLength=\"2\"\r\n        maxLength=\"200\"\r\n        className={descriptionClassName}\r\n        placeholder=\"Описание\"\r\n        value={description}\r\n        onChange={handleDescriptionChange} />\r\n      <span className={descriptionErrorMsgClassName}>{descriptionErrorMsg}</span>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"popup__button\"\r\n        disabled={!formValidity}>\r\n          {buttonText}\r\n      </button>\r\n    </PopupWithForm>)\r\n}\r\n\r\nexport default EditProfilePopup\r\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  const {isOpen, onClose, selectedCard} = props;\r\n  const src = selectedCard ? selectedCard.link : '#';\r\n  const title = selectedCard ? selectedCard.name : '';\r\n  const popupClass = isOpen ? 'popup popup_opened popup_type_full-view' : 'popup popup_type_full-view'\r\n  return (\r\n    <section className={popupClass}>\r\n      <figure className=\"popup__picture-container\">\r\n        <div className=\"popup__picture-elements\">\r\n          <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\r\n          <img className=\"popup__full-picture\"\r\n            alt=\"Полноэкранный просмотр\"\r\n            src={src} />\r\n          <h2 className=\"popup__picture-title\">{title}</h2>\r\n        </div>\r\n      </figure>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import {React, useEffect, useContext, useRef, useState} from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const {isOpen, onClose, onUpdateAvatar, isLoading} = props;\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const linkRef = useRef('');\r\n  const interval = useRef();\r\n\r\n  const [formValidity, setFormValidity] = useState(true);\r\n  const [linkIsValid, setLinkIsValid] = useState(true);\r\n  const [linkClassName, setLinkClassName] = useState('popup__input')\r\n  const [linkErrorMsg, setLinkErrorMsg] = useState('');\r\n  const [linkErrorMsgClassName, setLinkErrorMsgClassName] = useState('popup__error')\r\n\r\n  const [buttonText, setButtonText] = useState('Сохранить');\r\n\r\n  useEffect(() => {\r\n    setFormValidity(linkIsValid);\r\n  },[linkIsValid])\r\n\r\n  useEffect(() => {\r\n    clearValidation();\r\n  },[isOpen])\r\n\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      const dots = ['.','..','...'];\r\n      let i = 0\r\n      interval.current = setInterval(()=>{\r\n        setButtonText(`Сохранение${dots[i]}`);\r\n        i = (i === 2) ? 0 : i + 1;\r\n      },500)\r\n    } else {\r\n      clearInterval(interval.current)\r\n      setButtonText(`Сохранить`);\r\n    }\r\n  },[isLoading])\r\n\r\n  useEffect(() => {\r\n    linkRef.current = currentUser.avatar;\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(linkRef.current);\r\n  }\r\n\r\n  function handleLinkChange({target}) {\r\n    const {value, validity, validationMessage} = target;\r\n    linkRef.current = value;\r\n    handleLinkValidity(validity.valid, validationMessage);\r\n  }\r\n\r\n  function handleLinkValidity(isValid, errorText) {\r\n    setLinkIsValid(isValid);\r\n    if (isValid) {\r\n      setLinkClassName('popup__input');\r\n      setLinkErrorMsg('');\r\n      setLinkErrorMsgClassName('popup__error');\r\n    } else {\r\n      setLinkClassName('popup__input popup__input_type_error');\r\n      setLinkErrorMsg(errorText);\r\n      setLinkErrorMsgClassName('popup__error popup__error_visible');\r\n    }\r\n  }\r\n\r\n  function clearValidation() {\r\n    setLinkIsValid(true);\r\n    setLinkClassName('popup__input')\r\n    setLinkErrorMsg('');\r\n    setLinkErrorMsgClassName('popup__error');\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'avatar'}\r\n      title={'Обновить аватар'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}>\r\n      <input\r\n        id=\"avatar-link-input\"\r\n        name=\"data\"\r\n        required\r\n        type=\"url\"\r\n        className={linkClassName}\r\n        placeholder=\"Ссылка на аватар\"\r\n        defaultValue={linkRef.current}\r\n        onChange={handleLinkChange} />\r\n      <span className={linkErrorMsgClassName}>{linkErrorMsg}</span>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"popup__button\"\r\n        disabled={!formValidity}>\r\n          {buttonText}\r\n      </button>\r\n    </PopupWithForm>\r\n\r\n  )\r\n}\r\n\r\n\r\nexport default EditAvatarPopup;\r\n","import {React, useState, useEffect, useRef} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const {isOpen, onClose, onAddPlace, isLoading} = props;\r\n\r\n  const [buttonText, setButtonText] = useState('Сохранить');\r\n\r\n  const [name, setName] = useState('');\r\n  const [nameIsValid, setNameIsValid] = useState(false);\r\n  const [nameClassName, setNameClassName] = useState('popup__input')\r\n  const [nameErrorMsg, setNameErrorMsg] = useState('');\r\n  const [nameErrorMsgClassName, setNameErrorMsgClassName] = useState('popup__error')\r\n\r\n  const [link, setLink] = useState('');\r\n  const [linkIsValid, setLinkIsValid] = useState(false);\r\n  const [linkClassName, setLinkClassName] = useState('popup__input')\r\n  const [linkErrorMsg, setLinkErrorMsg] = useState('');\r\n  const [linkErrorMsgClassName, setLinkErrorMsgClassName] = useState('popup__error')\r\n\r\n  const [formValidity, setFormValidity] = useState(false);\r\n\r\n\r\n  const interval = useRef();\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      const dots = ['.','..','...'];\r\n      let i = 0\r\n      interval.current = setInterval(()=>{\r\n        setButtonText(`Сохранение${dots[i]}`);\r\n        i = (i === 2) ? 0 : i + 1;\r\n      },500)\r\n    } else {\r\n      clearInterval(interval.current)\r\n      setButtonText(`Сохранить`);\r\n    }\r\n  },[isLoading])\r\n\r\n\r\n  useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n    clearValidation();\r\n  }, [isOpen]);\r\n\r\n  useEffect(() => {\r\n    setFormValidity(nameIsValid && linkIsValid)\r\n  }, [nameIsValid, linkIsValid]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({name, link});\r\n  }\r\n\r\n  function handleNameChange({target}) {\r\n    const {value, validity, validationMessage} = target;\r\n    setName(value);\r\n    handleNameValidity(validity.valid, validationMessage);\r\n  }\r\n\r\n  function handleLinkChange({target}) {\r\n    const {value, validity, validationMessage} = target;\r\n    setLink(value);\r\n    handleLinkValidity(validity.valid, validationMessage);\r\n  }\r\n\r\n  function handleNameValidity(isValid, errorText) {\r\n    setNameIsValid(isValid);\r\n    if (isValid) {\r\n      setNameClassName('popup__input');\r\n      setNameErrorMsg('');\r\n      setNameErrorMsgClassName('popup__error');\r\n    } else {\r\n      setNameClassName('popup__input popup__input_type_error');\r\n      setNameErrorMsg(errorText);\r\n      setNameErrorMsgClassName('popup__error popup__error_visible');\r\n    }\r\n  }\r\n\r\n  function handleLinkValidity(isValid, errorText) {\r\n    setLinkIsValid(isValid);\r\n    if (isValid) {\r\n      setLinkClassName('popup__input');\r\n      setLinkErrorMsg('');\r\n      setLinkErrorMsgClassName('popup__error');\r\n    } else {\r\n      setLinkClassName('popup__input popup__input_type_error');\r\n      setLinkErrorMsg(errorText);\r\n      setLinkErrorMsgClassName('popup__error popup__error_visible');\r\n    }\r\n  }\r\n\r\n  function clearValidation() {\r\n    setNameIsValid(false);\r\n    setNameClassName('popup__input');\r\n    setNameErrorMsg('');\r\n    setNameErrorMsgClassName('popup__error');\r\n\r\n    setLinkIsValid(false);\r\n    setLinkClassName('popup__input')\r\n    setLinkErrorMsg('');\r\n    setLinkErrorMsgClassName('popup__error');\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'card'}\r\n      title={'Новое место'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}>\r\n      <input\r\n        id=\"place-name-input\"\r\n        name=\"name\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        className={nameClassName}\r\n        placeholder=\"Название\"\r\n        onChange={handleNameChange}\r\n        value={name} />\r\n      <span className={nameErrorMsgClassName}>{nameErrorMsg}</span>\r\n      <input\r\n        id=\"place-link-input\"\r\n        name=\"data\"\r\n        required\r\n        type=\"url\"\r\n        className={linkClassName}\r\n        placeholder=\"Ссылка на картинку\"\r\n        onChange={handleLinkChange}\r\n        value={link}/>\r\n      <span className={linkErrorMsgClassName}>{linkErrorMsg}</span>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"popup__button\"\r\n        disabled={!formValidity}>{buttonText}</button>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import {React, useState, useEffect, useRef} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteCardPopup(props) {\r\n  const {isOpen, onClose, selectedCard, onDeleteCard, isLoading} = props;\r\n  const [buttonText, setButtonText] = useState('Да');\r\n\r\n  const interval = useRef();\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      const dots = ['.','..','...'];\r\n      let i = 0\r\n      interval.current = setInterval(()=>{\r\n        setButtonText(`Удаление${dots[i]}`);\r\n        i = (i === 2) ? 0 : i + 1;\r\n      },500)\r\n    } else {\r\n      clearInterval(interval.current)\r\n      setButtonText(`Да`);\r\n    }\r\n  },[isLoading])\r\n\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard(selectedCard);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'remove-card'}\r\n      title={'Вы уверены?'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}>\r\n    <button type=\"submit\" className=\"popup__button\">{buttonText}</button>\r\n  </PopupWithForm>\r\n\r\n  )\r\n}\r\n\r\n\r\nexport default DeleteCardPopup;\r\n","import { React, useEffect, useState } from 'react';\r\nimport {api} from '../utils/api';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nimport Header from './Header';\r\nimport Main from './Main'\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeleteCardPopup from './DeleteCardPopup';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [cardToDelete, setCardToDelete] = useState({});\r\n  const [popupDataIsLoading, setPopupDataIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n      .then(([user, cards]) => {\r\n        setCurrentUser(user);\r\n        setCards(cards);\r\n      }).catch(console.log);\r\n  }, [])\r\n\r\n  function handleEditAvatarClick() {\r\n    document.addEventListener('keydown', closeOnEsc);\r\n    document.addEventListener('pointerdown', closeOnOverlay);\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEventListeners();\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setEventListeners();\r\n    setAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleDeleteCardClick(card) {\r\n    setEventListeners();\r\n    setDeleteCardPopupOpen(true);\r\n    setCardToDelete(card);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setEventListeners();\r\n    setImagePopupOpen(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    removeEventListeners();\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setDeleteCardPopupOpen(false)\r\n    setImagePopupOpen(false);\r\n    setSelectedCard({});\r\n    setCardToDelete({})\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    setPopupDataIsLoading(true);\r\n    api.setUserInfo(name, about)\r\n      .then(user => {\r\n        setCurrentUser(user);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setPopupDataIsLoading(false)\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(link) {\r\n    setPopupDataIsLoading(true);\r\n    api.setUserAvatar(link)\r\n      .then(user => {\r\n        setCurrentUser(user);\r\n        closeAllPopups();\r\n    })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setPopupDataIsLoading(false)\r\n    });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      setCards(cards => cards\r\n        .map(currentCard => currentCard._id === card._id ? newCard : currentCard));\r\n      closeAllPopups();\r\n    }).catch(console.log);\r\n  }\r\n\r\n\r\n\r\n  function handleConfirmDelete(card) {\r\n    setPopupDataIsLoading(true);\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        setCards(cards => cards\r\n          .filter(currentCard => currentCard._id !== card._id));\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setPopupDataIsLoading(false)\r\n    });\r\n  }\r\n\r\n  function handleAddCard({ name, link }) {\r\n    setPopupDataIsLoading(true);\r\n    api.addNewCard(name, link)\r\n      .then(newCard => {\r\n        setCards(cards => [newCard, ...cards]);\r\n      closeAllPopups();\r\n    })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setPopupDataIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function setEventListeners() {\r\n    document.addEventListener('keydown', closeOnEsc);\r\n    document.addEventListener('pointerdown', closeOnOverlay);\r\n  }\r\n\r\n  function removeEventListeners() {\r\n    document.removeEventListener('keydown', closeOnEsc);\r\n    document.removeEventListener('pointerdown', closeOnOverlay);\r\n  }\r\n\r\n  function closeOnEsc(e) {\r\n    if (e.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function closeOnOverlay(e) {\r\n    if (e.target.classList.contains('popup')) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleDeleteCardClick}\r\n        />\r\n        <Footer />\r\n        <EditProfilePopup\r\n          onUpdateUser={handleUpdateUser}\r\n          onClose={closeAllPopups}\r\n          isOpen={isEditProfilePopupOpen}\r\n          isLoading={popupDataIsLoading} />\r\n        <AddPlacePopup\r\n          onAddPlace={handleAddCard}\r\n          onClose={closeAllPopups}\r\n          isOpen={isAddPlacePopupOpen}\r\n          isLoading={popupDataIsLoading} />\r\n        <EditAvatarPopup\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          onClose={closeAllPopups}\r\n          isOpen={isEditAvatarPopupOpen}\r\n          isLoading={popupDataIsLoading} />\r\n        <DeleteCardPopup\r\n          onDeleteCard={handleConfirmDelete}\r\n          onClose={closeAllPopups}\r\n          isOpen={isDeleteCardPopupOpen}\r\n          selectedCard={cardToDelete}\r\n          isLoading={popupDataIsLoading} />\r\n        <ImagePopup\r\n          isOpen={isImagePopupOpen}\r\n          onClose={closeAllPopups}\r\n          selectedCard={selectedCard} />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}